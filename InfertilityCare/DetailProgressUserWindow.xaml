<Window x:Class="InfertilityCare.DetailProgressUserWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:InfertilityCare"
        mc:Ignorable="d"
        Title="DetailProgressUserWindow" Height="450" Width="800">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <!-- Danh sách bước -->
            <ColumnDefinition Width="*"/>
            <!-- Chi tiết bước -->
        </Grid.ColumnDefinitions>

        <!-- LEFT: Danh sách các bước -->
        <ListBox x:Name="StepsListBox"
             ItemsSource="{Binding Steps}"
             SelectedItem="{Binding SelectedStep, Mode=TwoWay}"
             DisplayMemberPath="Title"
             Background="#F5F5F5"/>

        <!-- RIGHT: Chi tiết từng bước -->
        <ScrollViewer Grid.Column="1" Padding="20">
            <StackPanel>
                <TextBlock Text="{Binding SelectedStep.Title}" FontSize="20" FontWeight="Bold"/>
                <TextBlock Text="{Binding SelectedStep.Description}" FontSize="14" Margin="0,10,0,10" TextWrapping="Wrap"/>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="{Binding SelectedStep.Duration}" Margin="0,0,20,0"/>
                    <TextBlock Text="{Binding SelectedStep.CompletedDate, StringFormat='Hoàn thành {0:dd/MM/yyyy}'}" Margin="0,0,20,0"/>
                    <TextBlock Text="{Binding SelectedStep.Cost, StringFormat='{}{0:N0} đ'}"/>
                </StackPanel>

                <WrapPanel Margin="0,0,0,10">
                    <Button Content="Thêm lịch hẹn" Margin="5"/>
                    <Button Content="Thêm toa thuốc" Margin="5"/>
                    <Button Content="Hoàn thành" Margin="5" Background="LightGreen"/>
                    <Button Content="Thất bại" Margin="5" Background="LightCoral"/>
                </WrapPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>

</Window>
